import numpy as np


####################仅仅是一个示例###################################


# 双目相机参数
class stereoCamera(object):
    def __init__(self):
        # 左相机内参
        self.cam_matrix_left = np.array([   [7.215377000000e+02, 0.000000000000e+00, 6.095593000000e+02],
                                            [      0.000000000000e+00,7.215377000000e+02, 1.728540000000e+02],
                                            [       0.000000000000e+00, 0.000000000000e+00, 1.000000000000e+00]
                                        ])
        # 右相机内参
        self.cam_matrix_right = np.array([   [7.215377000000e+02,0.000000000000e+00, 6.095593000000e+02],
                                            [       0.000000000000e+00, 7.215377000000e+02, 1.728540000000e+02],
                                            [       0.000000000000e+00, 0.000000000000e+00, 1.000000000000e+00]
                                        ])
        # 左右相机畸变系数:[k1, k2, p1, p2, k3]
        self.distortion_l = np.array([[0,0, 0, 0, 0]])
        self.distortion_r = np.array([[0,0, 0, 0, 0]])
        # self.distortion_r = np.array([[-3.691481e-01,1.968681e-01, 1.353473e-03, 5.677587e-04, -6.770705e-02]])

        # 旋转矩阵
          
        # self.R = np.array([ [9.999758e-01, -5.267463e-03, -4.552439e-03],
        #                     [5.251945e-03, 9.999804e-01, -3.413835e-03],
        #                     [ 4.570332e-03, 3.389843e-03, 9.999838e-01]   
        #                     ])
        self.r_cam = np.array([ [9.998321e-01, -7.193136e-03, 1.685599e-02],
                           [7.232804e-03, 9.999712e-01, -2.293585e-03],
                           [-1.683901e-02, 2.415116e-03, 9.998553e-01]   
                           ])
        self.l_cam = np.array([ [9.996878e-01, -8.976826e-03, 2.331651e-02],
                           [8.876121e-03, 9.999508e-01, 4.418952e-03],
                           [-2.335503e-02, -4.210612e-03, 9.997184e-01]   
                           ])
        self.R = np.linalg.inv(self.l_cam) @ self.r_cam
        # 平移矩阵
        # self.T = np.array([[5.956621e-01], [2.900141e-03], [2.577209e-02]])
        self.T = np.array([[-0.53267121e03], [5.261456], [-7.828091]])

        # 焦距
        self.focal_length = 7.215377000000e+02 # 默认值，一般取立体校正后的重投影矩阵Q中的 Q[2,3]

        # 基线距离
        # self.baseline = 5.956621e-01 # 单位：mm， 为平移向量的第一个参数（取绝对值）
        self.baseline = 0.53267121e03

        


